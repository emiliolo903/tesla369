<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Tesla Pro</title>

  <!-- PWA -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#00e5ff">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-512.png">
  <link rel="apple-touch-icon" href="icon-512.png">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f0f0f;
      color: #ffffff;
      text-align: center;
      padding: 20px;
    }
    h1 { color: #00e5ff; }
    textarea, button {
      padding: 10px;
      margin: 8px;
      font-size: 16px;
      border-radius: 5px;
      border: none;
      width: 80%;
    }
    button { background: #00e5ff; color: #000; font-weight: bold; }
    .box {
      background: #1c1c1c;
      padding: 15px;
      margin-top: 15px;
      border-radius: 10px;
    }
    .resultado { margin: 5px 0; font-size: 18px; }
  </style>
</head>
<body>

  <h1>Tesla Pro</h1>

  <p>Ingres치 un NRO base vertical (uno por l칤nea)</p>
  <textarea id="base" placeholder="Ej:\n5\n5\n6\n7" rows="4"></textarea>
  <br>
  <button onclick="generar()">Generar NRO</button>

  <div class="box">
    <h3>游댳 Ambos</h3>
    <div id="ambos"></div>
  </div>

  <div class="box">
    <h3>游댳 Ternos</h3>
    <div id="ternos"></div>
  </div>

  <div class="box">
    <h3>游댳 Cuaternos</h3>
    <div id="cuaternos"></div>
  </div>

<script>
  // Registro de service worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
    .then(() => console.log('Service Worker registrado'))
    .catch(err => console.log('Error SW:', err));
  }

  // Funci칩n principal
  function generar() {
    const baseRaw = document.getElementById("base").value;
    if (baseRaw.trim() === "") {
      alert("Ingres치 un n칰mero");
      return;
    }

    const digitos = baseRaw.split(/\r?\n/).map(d => d.trim()).filter(d => d !== "");

    // Mapa Tesla vertical
    const mapTesla = {
      0: [0,0],
      1: [0,0],
      2: [5,7],
      3: [8,0],
      4: [6,9],
      5: [2,7],
      6: [4,9],
      7: [5,2],
      8: [3,0],
      9: [3,4]
    };

    // Generar las 2 jugadas exactas
    let cuaternos = [];
    let jugada1 = "";
    let jugada2 = "";

    digitos.forEach(d => {
      jugada1 += mapTesla[d][0];
      jugada2 += mapTesla[d][1];
    });

    cuaternos.push(jugada1, jugada2);

    // Generar ternos y ambos autom치ticamente
    let ternos = cuaternos.map(c => c.slice(1));
    let ambos  = ternos.map(t => t.slice(1));

    // Mostrar resultados
    document.getElementById("cuaternos").innerHTML =
      cuaternos.map(n => `<div class="resultado">${n}</div>`).join("");
    document.getElementById("ternos").innerHTML =
      ternos.map(n => `<div class="resultado">${n}</div>`).join("");
    document.getElementById("ambos").innerHTML =
      ambos.map(n => `<div class="resultado">${n}</div>`).join("");
  }
</script>

</body>
</html>
