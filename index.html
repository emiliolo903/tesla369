<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Tesla Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#111;
  color:#fff;
  text-align:center;
  padding:15px;
}
h1{color:#00ffcc}
textarea,button{
  width:100%;
  max-width:420px;
  margin:10px auto;
  display:block;
  padding:10px;
  font-size:16px;
  border-radius:8px;
  border:none;
}
button{
  background:#00ffcc;
  font-weight:bold;
  cursor:pointer;
}
.resultado{
  margin-top:15px;
  font-size:18px;
  color:#00ffcc;
}
.extra{
  font-size:14px;
  color:#aaa;
  margin-top:5px;
}
.stats{
  font-size:13px;
  color:#ccc;
  margin-top:10px;
}
.btns button{
  margin:5px;
  background:#444;
  color:#fff;
}
</style>
</head>

<body>

<h1>‚ö° Tesla Pro</h1>
<p>M√©todo Tesla ‚Äì Quiniela Tradicional</p>

<textarea id="base" placeholder="Ej: 3518"></textarea>
<button onclick="generar()">Generar</button>

<div class="resultado" id="r1"></div>
<div class="resultado" id="r2"></div>
<div class="stats" id="stats"></div>

<script>
// ================== TESLA ==================
const tesla = {
  0:["0","0"],1:["0","0"],2:["5","7"],3:["8","0"],
  4:["6","9"],5:["2","7"],6:["4","9"],7:["5","2"],
  8:["3","0"],9:["3","4"]
};

// ================== STORAGE ==================
let data = JSON.parse(localStorage.getItem("teslaStats")) || {
  ambos:0, terno:0, cuaterno:0,
  manana:0, tarde:0, noche:0
};

function guardar(){ localStorage.setItem("teslaStats", JSON.stringify(data)); }

// ================== ENERG√çA ==================
function energia(num){
  let s = num.split('').reduce((a,b)=>a+parseInt(b),0);
  while(s>9) s = s.toString().split('').reduce((a,b)=>a+parseInt(b),0);
  if(s<=3) return {t:"üåÖ Ma√±ana",k:"manana"};
  if(s<=6) return {t:"üåÜ Tarde",k:"tarde"};
  return {t:"üåô Noche",k:"noche"};
}

function agencia(h){
  if(h=="manana") return "Correntina / Ciudad";
  if(h=="tarde") return "Bonaerense / Santa Fe";
  return "C√≥rdoba / Entre R√≠os / Chaco";
}

// ================== SUGERENCIA ==================
function sugerencia(){
  let max = Math.max(data.ambos,data.terno,data.cuaterno);
  if(max===data.cuaterno) return "üëâ Seg√∫n tus datos: jugar Cuaterno";
  if(max===data.terno) return "üëâ Seg√∫n tus datos: jugar Terno";
  return "üëâ Seg√∫n tus datos: jugar Ambos";
}

// ================== MARCAR RESULTADO ==================
function marcar(tipo,energiaKey){
  data[tipo]++;
  data[energiaKey]++;
  guardar();
  mostrarStats();
}

// ================== MOSTRAR ==================
function mostrarStats(){
  stats.innerHTML =
    "Aciertos ‚Üí Ambos: "+data.ambos+
    " | Terno: "+data.terno+
    " | Cuaterno: "+data.cuaterno+
    "<br>Energ√≠a ‚Üí Ma√±ana: "+data.manana+
    " | Tarde: "+data.tarde+
    " | Noche: "+data.noche;
}

function generar(){
  let n = base.value.replace(/\D/g,'');
  if(n.length<4) return;

  let j1="", j2="";
  for(let d of n){ j1+=tesla[d][0]; j2+=tesla[d][1]; }

  let e1 = energia(j1);
  let e2 = energia(j2);

  r1.innerHTML = `
<b>Jugada Tesla 1</b><br>
Cuaterno: ${j1}<br>
Terno: ${j1.slice(1,4)}<br>
Ambos: ${j1.slice(-2)}
<div class='extra'>
Energ√≠a: ${e1.t} ¬∑ Agencia: ${agencia(e1.k)}<br>
${sugerencia()}
</div>
<div class='btns'>
<button onclick="marcar('ambos','${e1.k}')">Peg√≥ Ambos</button>
<button onclick="marcar('terno','${e1.k}')">Peg√≥ Terno</button>
<button onclick="marcar('cuaterno','${e1.k}')">Peg√≥ Cuaterno</button>
</div>
`;

  r2.innerHTML = `
<b>Jugada Tesla 2</b><br>
Cuaterno: ${j2}<br>
Terno: ${j2.slice(1,4)}<br>
Ambos: ${j2.slice(-2)}
<div class='extra'>
Energ√≠a: ${e2.t} ¬∑ Agencia: ${agencia(e2.k)}<br>
${sugerencia()}
</div>
<div class='btns'>
<button onclick="marcar('ambos','${e2.k}')">Peg√≥ Ambos</button>
<button onclick="marcar('terno','${e2.k}')">Peg√≥ Terno</button>
<button onclick="marcar('cuaterno','${e2.k}')">Peg√≥ Cuaterno</button>
</div>
`;

  mostrarStats();
}

mostrarStats();
</script>

</body>
</html>
