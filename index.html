<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Sistema Digital Tesla 3-6-9</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#000000">
  <link rel="manifest" href="manifest.json">
</head>

<body style="font-family: Arial; padding: 15px; background:#f5f5f5;">

<h2>âš¡ Sistema Digital Tesla 3-6-9</h2>

<input type="number" id="numero" placeholder="IngresÃ¡ nÃºmero base" style="padding:8px; width:100%; font-size:16px;">
<br><br>

<button onclick="tesla()">Calcular</button>
<button onclick="borrarHistorial()">Borrar historial</button>

<hr>

<h3>ğŸ”¥ Jugada sugerida</h3>
<div id="sugerida"></div>

<hr>

<h3>ğŸ“Š Resultado</h3>
<div id="r"></div>

<hr>

<h3>ğŸ“œ Historial</h3>
<div id="historial"></div>

<script>
/* ===== METODO TESLA OFICIAL ===== */

const TESLA_MAP = {
  0: [0, 0],
  1: [0, 0],
  2: [5, 7],
  3: [8, 0],
  4: [6, 9],
  5: [2, 7],
  6: [4, 9],
  7: [5, 2],
  8: [3, 0],
  9: [3, 4]
};

function generarTesla(numero) {
  const cifras = numero.toString().split('').map(Number);
  let pool = [];

  cifras.forEach(c => {
    if (TESLA_MAP[c]) {
      pool.push(...TESLA_MAP[c]);
    }
  });

  return pool;
}

function contar(pool) {
  const conteo = {};
  pool.forEach(n => conteo[n] = (conteo[n] || 0) + 1);
  return conteo;
}

function topN(conteo, n) {
  return Object.entries(conteo)
    .sort((a, b) => b[1] - a[1])
    .slice(0, n)
    .map(e => e[0]);
}

function combinaciones(arr, k) {
  if (k === 1) return arr.map(x => [x]);
  let res = [];
  arr.forEach((v, i) => {
    combinaciones(arr.slice(i + 1), k - 1)
      .forEach(c => res.push([v, ...c]));
  });
  return res;
}

function ejecutarTesla() {
  const input = document.getElementById("numero").value;
  if (!input) return;

  const pool = generarTesla(input);
  const conteo = contar(pool);

  const cifras = topN(conteo, 4);
  const ambos = combinaciones(cifras, 2).slice(0, 4);
  const ternos = combinaciones(cifras, 3).slice(0, 4);
  const cuaternos = combinaciones(cifras, 4).slice(0, 2);

  document.getElementById("resultado").innerHTML = `
    <h3>âš¡ Cifras Tesla</h3>
    ${cifras.join(" - ")}

    <h3>ğŸ” Ambos</h3>
    ${ambos.map(a => a.join("")).join(" / ")}

    <h3>ğŸ”º Ternos</h3>
    ${ternos.map(t => t.join("")).join(" / ")}

    <h3>ğŸ”· Cuaternos</h3>
    ${cuaternos.map(c => c.join("")).join(" / ")}

    <h3>ğŸ”¥ Jugadas Sugeridas</h3>
    ğŸ¥‡ ${cuaternos[0].join("")}<br>
    ğŸ¥ˆ ${cuaternos[1] ? cuaternos[1].join("") : "â€”"}
  `;
}
                                      </script><script>
/* ===== METODO TESLA OFICIAL ===== */

const TESLA_MAP = {
  0: [0, 0],
  1: [0, 0],
  2: [5, 7],
  3: [8, 0],
  4: [6, 9],
  5: [2, 7],
  6: [4, 9],
  7: [5, 2],
  8: [3, 0],
  9: [3, 4]
};

function generarTesla(numero) {
  const cifras = numero.toString().split('').map(Number);
  let pool = [];

  cifras.forEach(c => {
    if (TESLA_MAP[c]) {
      pool.push(...TESLA_MAP[c]);
    }
  });

  return pool;
}

function contar(pool) {
  const conteo = {};
  pool.forEach(n => conteo[n] = (conteo[n] || 0) + 1);
  return conteo;
}

function topN(conteo, n) {
  return Object.entries(conteo)
    .sort((a, b) => b[1] - a[1])
    .slice(0, n)
    .map(e => e[0]);
}

function combinaciones(arr, k) {
  if (k === 1) return arr.map(x => [x]);
  let res = [];
  arr.forEach((v, i) => {
    combinaciones(arr.slice(i + 1), k - 1)
      .forEach(c => res.push([v, ...c]));
  });
  return res;
}

function ejecutarTesla() {
  const input = document.getElementById("numero").value;
  if (!input) return;

  const pool = generarTesla(input);
  const conteo = contar(pool);

  const cifras = topN(conteo, 4);
  const ambos = combinaciones(cifras, 2).slice(0, 4);
  const ternos = combinaciones(cifras, 3).slice(0, 4);
  const cuaternos = combinaciones(cifras, 4).slice(0, 2);

  document.getElementById("resultado").innerHTML = `
    <h3>âš¡ Cifras Tesla</h3>
    ${cifras.join(" - ")}

    <h3>ğŸ” Ambos</h3>
    ${ambos.map(a => a.join("")).join(" / ")}

    <h3>ğŸ”º Ternos</h3>
    ${ternos.map(t => t.join("")).join(" / ")}

    <h3>ğŸ”· Cuaternos</h3>
    ${cuaternos.map(c => c.join("")).join(" / ")}

    <h3>ğŸ”¥ Jugadas Sugeridas</h3>
    ğŸ¥‡ ${cuaternos[0].join("")}<br>
    ğŸ¥ˆ ${cuaternos[1] ? cuaternos[1].join("") : "â€”"}
  `;
}
                                      </script><script>
/* ===== METODO TESLA OFICIAL ===== */

const TESLA_MAP = {
  0: [0, 0],
  1: [0, 0],
  2: [5, 7],
  3: [8, 0],
  4: [6, 9],
  5: [2, 7],
  6: [4, 9],
  7: [5, 2],
  8: [3, 0],
  9: [3, 4]
};

function generarTesla(numero) {
  const cifras = numero.toString().split('').map(Number);
  let pool = [];

  cifras.forEach(c => {
    if (TESLA_MAP[c]) {
      pool.push(...TESLA_MAP[c]);
    }
  });

  return pool;
}

function contar(pool) {
  const conteo = {};
  pool.forEach(n => conteo[n] = (conteo[n] || 0) + 1);
  return conteo;
}

function topN(conteo, n) {
  return Object.entries(conteo)
    .sort((a, b) => b[1] - a[1])
    .slice(0, n)
    .map(e => e[0]);
}

function combinaciones(arr, k) {
  if (k === 1) return arr.map(x => [x]);
  let res = [];
  arr.forEach((v, i) => {
    combinaciones(arr.slice(i + 1), k - 1)
      .forEach(c => res.push([v, ...c]));
  });
  return res;
}

function ejecutarTesla() {
  const input = document.getElementById("numero").value;
  if (!input) return;

  const pool = generarTesla(input);
  const conteo = contar(pool);

  const cifras = topN(conteo, 4);
  const ambos = combinaciones(cifras, 2).slice(0, 4);
  const ternos = combinaciones(cifras, 3).slice(0, 4);
  const cuaternos = combinaciones(cifras, 4).slice(0, 2);

  document.getElementById("resultado").innerHTML = `
    <h3>âš¡ Cifras Tesla</h3>
    ${cifras.join(" - ")}

    <h3>ğŸ” Ambos</h3>
    ${ambos.map(a => a.join("")).join(" / ")}

    <h3>ğŸ”º Ternos</h3>
    ${ternos.map(t => t.join("")).join(" / ")}

    <h3>ğŸ”· Cuaternos</h3>
    ${cuaternos.map(c => c.join("")).join(" / ")}

    <h3>ğŸ”¥ Jugadas Sugeridas</h3>
    ğŸ¥‡ ${cuaternos[0].join("")}<br>
    ğŸ¥ˆ ${cuaternos[1] ? cuaternos[1].join("") : "â€”"}
  `;
}
                                      </script>

</body>
  </html>
