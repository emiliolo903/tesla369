<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>App Quiniela â€“ MÃ©todo Tesla</title>
<style>
body { font-family: Arial; background:#111; color:#eee; padding:15px }
h2,h3 { color:#00ffcc }
.box { border:1px solid #444; padding:10px; margin:10px 0 }
button { padding:8px; margin-top:5px }
.result { background:#222; padding:8px; margin-top:5px }
</style>
</head>

<body>

<h2>ğŸ“Š APP QUINIELA â€“ MÃ‰TODO TESLA</h2>

<div class="box">
<h3>ğŸ”¢ Ingresar nÃºmero base</h3>
<input id="base" placeholder="Ej: 3518">
<br>
<button onclick="generar()">Generar</button>
</div>

<div class="box" id="energiaBox"></div>

<div class="box">
<h3>ğŸ¯ Quiniela Tradicional</h3>
<div id="tradicional"></div>
</div>

<div class="box">
<h3>ğŸŒ™ Quiniela Poseada Correntina</h3>
<div id="poseada"></div>
</div>

<script>
function energiaPorNumero(n){
  let s = n.split('').reduce((a,b)=>a+parseInt(b),0);
  if(s%3===0) return "MAÃ‘ANA";
  if(s%3===1) return "TARDE";
  return "NOCHE";
}

function agenciaPorEnergia(e){
  if(e==="MAÃ‘ANA") return "CORRIENTES / CHACO";
  if(e==="TARDE") return "SANTA FE / ENTRE RÃOS";
  return "BUENOS AIRES / CÃ“RDOBA";
}

function metodoTesla(n){
  let a = n.split('').map(Number);
  return [
    (a[0]+a[1])%10,
    (a[2]+a[3])%10,
    Math.abs(a[0]-a[3]),
    Math.abs(a[1]-a[2])
  ];
}

function generarTernoCuaterno(t){
  let terno1 = `${t[1]}${t[0]}${t[2]}`;
  let terno2 = `${t[3]}${t[0]}${t[0]}`;
  let cuaterno = `${t[0]}${t[1]}${t[2]}${t[3]}`;
  return { terno1, terno2, cuaterno };
}

function diaHoy(){
  return new Date().getDay(); // 2 martes, 4 jueves, 5 viernes
}

function generar(){
  let base = document.getElementById("base").value;
  if(base.length<3) return;

  let energia = energiaPorNumero(base);
  let agencia = agenciaPorEnergia(energia);
  let tesla = metodoTesla(base);
  let jugadas = generarTernoCuaterno(tesla);

  document.getElementById("energiaBox").innerHTML = `
  <h3>âš¡ EnergÃ­a detectada</h3>
  EnergÃ­a: <b>${energia}</b><br>
  Agencia sugerida: <b>${agencia}</b>
  `;

  document.getElementById("tradicional").innerHTML = `
  <div class="result">
  Terno 1: ${jugadas.terno1}<br>
  Terno 2: ${jugadas.terno2}<br>
  Cuaterno: ${jugadas.cuaterno}<br>
  </div>
  `;

  // Poseada Correntina
  let d = diaHoy();
  let habilitado = (d===2 || d===4 || d===5);

  if(!habilitado){
    document.getElementById("poseada").innerHTML =
      "âŒ Hoy no hay sorteo poseada correntina";
    return;
  }

  let jugarDos = (d===5 || (d===4 && energia==="NOCHE"));

  let baseNums = tesla.map(n=>("0"+n).slice(-2));
  let respaldo = baseNums.map(n=>("0"+((parseInt(n)+3)%100)).slice(-2));

  document.getElementById("poseada").innerHTML = `
  <div class="result">
  Sorteo: NOCTURNA<br>
  RecomendaciÃ³n: ${jugarDos?"PRINCIPAL + RESPALDO":"PRINCIPAL"}<br><br>

  Principal: ${baseNums.join(" - ")}<br>
  ${jugarDos?`Respaldo: ${respaldo.join(" - ")}`:""}
  </div>
  `;
}
</script>

</body>
</html>
